(this["webpackJsonpbox-scored"]=this["webpackJsonpbox-scored"]||[]).push([[0],{23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),c=n.n(s),i=(n(23),n(8)),o=n.n(i),l=n(7),u=n(3),d=n(13),b=n(5),j=n(18),m=n(16),h=n(4),f=n.n(h),p=n(1),x=function(e){var t=e.variant,n=e.dismissible,r=void 0===n||n,s=e.closeLabel,c=void 0===s?"Dismiss":s,i=e.LeftIcon,o=void 0===i?m.a:i,l=e.action,d=void 0===l?null:l,b=e.children,j=a.useState(!0),h=Object(u.a)(j,2),f=h[0],x=h[1];if(!f)return null;return Object(p.jsx)("div",{className:"".concat({info:"bg-indigo-400",warning:"bg-yellow-500",error:"bg-red-400"}[t]," mb-3"),children:Object(p.jsx)("div",{className:"mx-auto py-3 px-3 sm:px-6 lg:px-8",children:Object(p.jsxs)("div",{className:"flex items-center justify-between flex-wrap",children:[Object(p.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[o&&Object(p.jsx)("span",{className:"flex p-2 rounded-lg ".concat({info:"bg-indigo-700",warning:"bg-yellow-800",error:"bg-red-700"}[t]),children:Object(p.jsx)(o,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),Object(p.jsx)("p",{className:"ml-3 font-medium text-white truncate",children:b})]}),d&&Object(p.jsx)("div",{className:"order-3 mt-2 flex-shrink-0 w-full sm:order-2 sm:mt-0 sm:w-auto",children:Object(p.jsx)("span",{className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ".concat({info:"text-indigo-500",warning:"text-yellow-600",error:"text-red-500"}[t]," bg-white hover:bg-indigo-50"),children:d})}),r&&Object(p.jsx)("div",{className:"order-2 flex-shrink-0 sm:order-3 sm:ml-3",children:Object(p.jsxs)("button",{type:"button",className:"-mr-1 flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2",onClick:function(){return x(!1)},children:[Object(p.jsx)("span",{className:"sr-only",children:c}),Object(p.jsx)(m.b,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})]})})})},v=function(e){var t=e.children;return Object(p.jsx)("div",{className:"shadow-md rounded-md p-2 border-gray-400 border-opacity-70 border-solid border",children:Object(p.jsx)("div",{className:"p-2",children:t})})},g=function(e){var t=e.children;return Object(p.jsx)("h3",{className:"text-lg leading-6 font-semibold text-gray-900 text-center",children:t})},O=function(e){var t=e.children;return Object(p.jsx)("div",{className:"bg-white px-2 py-1",children:Object(p.jsx)("div",{className:"sm:flex sm:items-center",children:Object(p.jsx)("div",{className:"sm:flex-1 mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:t})})})},y=function(e){var t=e.children;return Object(p.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:t})},k=function(e){var t=e.children;return Object(p.jsx)("div",{className:"sm:flex sm:flex-wrap sm:items-center sm:justify-items-center justify-center",children:t})},w=function(e){var t=e.children,n=e.onClick;return Object(p.jsx)("button",{className:"bg-purple-500 text-white active:bg-purple-600 font-bold uppercase text-xs px-4 py-2 rounded shadow-sm hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:n,children:t})},N=function(e){var t=e.data,n=e.columns,a=e.ifEmpty,r=void 0===a?void 0:a,s=e.row,c=void 0===s?function(){return{className:f()("table-row","border-b","border-gray-300","align-text-top")}}:s,i=Object(j.a)(e,["data","columns","ifEmpty","row"]);if(0===t.length&&r)return Object(p.jsx)(p.Fragment,{children:r});var o=Array.isArray(n)?n:[n];return Object(p.jsxs)("table",Object(b.a)(Object(b.a)({className:f()("table","border-collapse")},i),{},{children:[Object(p.jsx)("thead",{className:f()("table-header-group"),children:o.map((function(e,t){return Object(p.jsx)("th",{children:e.header},t)}))}),Object(p.jsx)("tbody",{className:f()("table-row-group"),children:t.map((function(e,t){return Object(p.jsx)("tr",Object(b.a)(Object(b.a)({},c(e)),{},{children:o.map((function(t,n){return Object(p.jsx)("td",{children:t.builder(e)},n)}))}),t)}))})]}))},F=n(14),B={1:"P",2:"C",3:"1B",4:"2B",5:"3B",6:"SS",7:"LF",8:"CF",9:"RF",10:"DH",11:"PH",12:"PR"},P=n(2),S=P.c(/[1-9]/).map((function(e){return B[e]})).desc(["position"]).node("Fielder"),T=P.a(S.or(P.d(null)).skip(P.e("E")),S,P.e("/TH").map((function(){return"TH"})).node("throwing").or(P.d(null))).node("Error"),D=P.b(P.e("1").next(P.d("1B")),P.e("2").next(P.d("2B")),P.e("3").next(P.d("3B")),P.e("H").next(P.d("Home")).and(P.b(T,P.e("TUR").node("Team Unearned Run"),P.e("UR").node("Unearned Run"),P.e("RBI").node("RBI credited"),P.e("NR").or(P.e("NORBI")).node("No RBI credited")).wrap(P.e("("),P.e(")")).repeat(0)),P.e("B").next(P.d("Home"))).desc(["base"]).node("Base"),I=S.repeat(1).desc(["fielders"]).node("Fielders"),H=I.and(D.wrap(P.e("("),P.e(")")).or(P.d(null))).node("Out"),A=P.b(P.e("S").next(I).node("Single"),P.e("D").next(I).node("Double"),P.e("T").next(I).node("Triple"),P.e("HR").or(P.e("H")).next(I).node("Inside The Park Home Run"),P.e("HR").or(P.e("H")).node("Home Run"),P.e("DGR").node("Ground Rule Double")).node("Hit"),R=P.e("HP").node("Hit By Pitch"),E=P.e("NP").node("No Play"),C=P.e("SB").next(D).node("Stolen Base"),U=C.sepBy(P.e(";"),2).node("Double Steal"),L=P.b(P.e("BK").node("Balk"),P.e("CS").next(P.a(D,I.wrap(P.e("("),P.e(")")))).node("Caught Stealing"),P.a(P.e("PO").next(D),T.or(I).wrap(P.e("("),P.e(")"))).node("Pick Off"),U,C,P.e("PB").node("Passed Ball"),P.e("DI").node("Defensive Indifference"),P.e("WP").node("Wild Pitch")),M=P.e("+").next(L).repeat(),W=P.e("K").next(M).node("Strikeout"),G=P.c(/IW?/).next(M).node("Intentional Walk"),J=P.e("W").next(M).node("Walk"),X=P.e("FC").next(I.or(P.d(null))).node("Fielders Choice"),K=P.e("C/").next(P.e("E").next(S).node("Interference")),V=P.a(I,D.wrap(P.e("("),P.e(")")),I).node("Double Play"),$=P.e("FLE").next(S).node("Error on foul fly ball"),Y=P.b($,E,L,X,T,V,H,J,R,A,W,G,K).node("Basic Play"),_=P.a(S.or(P.e("0").node("Unknown location")).repeat(1,2).map((function(e){return e.map((function(e){return e.value}))})),P.e("L").or(P.d(null)).map((function(e){return!e})),P.e("M").map((function(){return"medium"})).or(P.e("X").map((function(){return"extra"}))).or(P.d(null)),P.e("D").map((function(){return"deep"})).or(P.e("S").map((function(){return"shallow"}))).or(P.d(null)),P.e("F").map((function(){return"Foul"})).or(P.d(null)),P.e("+").or(P.e("-")).or(P.d(null))).map((function(e){var t=Object(u.a)(e,5),n=t[0],a=t[1],r=t[2],s=t[3],c=t[4];return{fieldLocation:n.join("-"),towardTheLine:a,severity:r,depth:s,foul:c,desc:[r,s,n.join("-"),c&&"(foul)"].filter((function(e){return e})).join(" ")}})).node("Hit Location"),q=P.b(P.e("AP").node("Appeal Play"),P.e("BGDP").node("bunt grounded into double play"),P.e("BG").node("ground ball bunt"),P.e("BINT").node("batter interference"),P.e("BL").node("line drive bunt"),P.e("BOOT").node("batting out of turn"),P.e("BPDP").node("bunt popped into double play"),P.e("BP").node("bunt pop up"),P.e("BR").node("runner hit by batted ball"),P.e("COUB").node("courtesy batter"),P.e("COUF").node("courtesy fielder"),P.e("COUR").node("courtesy runner"),P.e("C").node("called third strike"),P.e("DP").node("Double play"),P.e("E").next(S).node("error"),P.e("FDP").node("fly ball double play"),P.e("FINT").node("fan interference"),P.e("FL").node("foul"),P.e("FO").node("force out"),P.e("F").node("fly"),P.e("GDP").node("ground ball double play"),P.e("GTP").node("ground ball triple play"),P.e("G").node("ground ball"),P.e("IF").node("infield fly rule"),P.e("INT").node("interference"),P.e("IPHR").node("inside the park home run"),P.e("LDP").node("lined into double play"),P.e("LTP").node("lined into triple play"),P.e("L").node("line drive"),P.e("MREV").node("manager challenge of call on the field"),P.e("NDP").node("no double play credited for this play"),P.e("OBS").node("obstruction (fielder obstructing a runner)"),P.e("PASS").node("a runner passed another runner and was called out"),P.e("P").node("pop fly"),P.e("RINT").node("runner interference"),P.e("R").next(S).node("relay throw from the initial fielder to $ with no out made"),P.e("SF").node("sacrifice fly"),P.e("SH").node("sacrifice hit (bunt)"),P.e("TH").next(D).node("throw to base %"),P.e("TH").node("throw"),P.e("TP").node("Triple play"),P.e("UINT").node("umpire interference"),P.e("UREV").node("umpire review of call on the field")).and(_.or(P.d(null))).node("Modifier"),z=P.e("/").next(q.sepBy(P.e("/"))).or(P.d([])),Q=P.b(P.a(D.skip(P.e("-")),D,T.wrap(P.e("("),P.e(")")).or(P.d(null))).node("Successful Advancement"),P.a(D.skip(P.e("X")),D,T.or(I).wrap(P.e("("),P.e(")")).or(P.d(null))).node("Failed Advancement")).node("Advancement"),Z=P.a(Y,z,P.e(".").next(Q.sepBy(P.e(";"))).or(P.d([]))).node("Play");function ee(e){var t=Z.parse(e);return"ParseFail"===t.type?Object(b.a)(Object(b.a)({},t),{},{source:e}):t}function te(e){var t=e.value,n=Object(u.a)(t,3),a=n[0].value,r=n[2];return"Hit"===a.name&&a.value.name.includes("Home Run")||!!r.find((function(e){return"Successful Advancement"===e.value.name&&("Home"===e.value.value[1].value||Array.isArray(e.value.value[1].value)&&"Home"===e.value.value[1].value[0])}))}var ne,ae=n(6),re=n(11),se=n(9);function ce(e){return e.slice().pop()}!function(e){e.home="1",e.away="0"}(ne||(ne={}));var ie=function(){function e(){Object(se.a)(this,e),this.positions=[],this.atBats=0,this.plateAppearances=0,this.hitByPitches=0,this.singles=0,this.doubles=0,this.triples=0,this.homeruns=0,this.hits=0,this.walks=0,this.strikeouts=0}return Object(re.a)(e,[{key:"record",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(this[e]+=t,e){case"plateAppearances":case"hits":throw new Error("do not record ".concat(e," directly"));case"atBats":break;case"singles":case"doubles":case"triples":case"homeruns":case"strikeouts":this.atBats+=t;break;case"walks":case"hitByPitches":break;default:return e}this.hits=this.singles+this.doubles+this.triples+this.homeruns,this.plateAppearances=this.atBats+this.walks+this.hitByPitches}}]),e}(),oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(se.a)(this,e),this.stats=t}return Object(re.a)(e,[{key:"stat",value:function(e){var t=JSON.stringify(Object(b.a)(Object(b.a)({},e),{},{pos:void 0})),n=this.stats[t],a=n&&n[1];a||(a=new ie,this.stats[t]=[e,a]);var r=a.positions;return ce(r)!==e.pos&&r.push(e.pos),a}},{key:"copy",value:function(){return new e(Object(b.a)({},this.stats))}},{key:"all",value:function(){return Object.values(this.stats)}}]),e}();function le(e){return"string"===typeof e.value?"Home"===e.value:"Home"===e.value[0]}var ue=function(e){return e===ne.home?ne.away:ne.home};function de(e,t){var n=t({stats:e.stats.copy(),bases:[null,e.bases[1],e.bases[2],e.bases[3]],score:Object(b.a)({},e.score),players:e.players.slice(),errors:e.errors,gdp:e.gdp,inning:e.inning,battingTeam:e.battingTeam,outs:e.outs,pitching:e.pitching,batting:e.batting,onDeck:e.onDeck,inTheHole:e.inTheHole,nextUp:Object(b.a)({},e.nextUp),slotsAway:e.slotsAway});n.outs>=3&&(e.battingTeam===ne.home&&(n.inning+=1),n.battingTeam=ue(e.battingTeam),n.bases=[null,null,null,null],n.outs=0);var a,r=Object(l.a)(n.players);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.stats.stat(s)}}catch(c){r.e(c)}finally{r.f()}return n.pitching=n.players.find((function(e){return"1"===e.pos&&e.team===ue(n.battingTeam)})),n.batting=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,0)})),n.onDeck=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,1)})),n.inTheHole=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,2)})),n}function be(e){return de({players:e.starters.slice(),errors:[],gdp:[],stats:new oe,inning:1,battingTeam:ne.away,outs:0,pitching:void 0,bases:[null,null,null,null],batting:void 0,onDeck:void 0,inTheHole:void 0,score:{home:0,away:0},nextUp:{0:1,1:1},slotsAway:function(e,t){return(this.nextUp[e]-1+t)%9+1}},(function(e){return e}))}function je(e,t,n){var a=Object(u.a)(t.value,3),r=a[0].value,s=a[2];if(e.batting.playerID!==n)throw new Error("Expected ".concat(JSON.stringify(e.batting)," to be up, instead it is ").concat(n));var c=de(e,(function(e){return e})),i=e.stats.stat(e.batting),o=function(t){c.score[e.battingTeam===ne.home?"home":"away"]+=t},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c.outs+=e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c.nextUp[c.battingTeam]=c.slotsAway(c.battingTeam,e)};switch(r.name){case"Caught Stealing":d();break;case"Out":d(),b(),i.record("atBats");break;case"Strikeout":d(),b(),i.record("strikeouts"),console.log("Stikeout",i,c.batting);var j,m=Object(l.a)(r.value);try{for(m.s();!(j=m.n()).done;){var h=j.value;["Caught Stealing","Pick Off"].includes(h.name)&&(c.outs+=1)}}catch(L){m.e(L)}finally{m.f()}var f,p=Object(l.a)(s);try{for(p.s();!(f=p.n()).done;){var x=f.value;le(Object(u.a)(x.value.value,1)[0])&&(c.outs-=1)}}catch(L){p.e(L)}finally{p.f()}break;case"Walk":case"Intentional Walk":i.record("walks");var v,g=Object(l.a)(r.value);try{for(g.s();!(v=g.n()).done;){var O=v.value;["Caught Stealing","Pick Off"].includes(O.name)&&(c.outs+=1)}}catch(L){g.e(L)}finally{g.f()}c.bases[1]=e.batting,b();break;case"Hit By Pitch":c.bases[1]=e.batting,b();break;case"Pick Off":var y=Object(u.a)(r.value,2),k=y[0],w=y[1];if(w&&"Error"===w.name){var N=Number(k.value.slice(0,1));c.bases[N]=null}else c.outs+=1;break;case"Double Play":c.outs+=2,b();break;case"Hit":b();var F=r.value;["Home Run","Inside The Park Home Run"].includes(F.name)?(o(1),i.record("homeruns")):"Single"===F.name?(c.bases[1]=e.batting,i.record("singles")):"Double"===F.name?(c.bases[2]=e.batting,i.record("doubles")):"Triple"===F.name&&(c.bases[3]=e.batting,i.record("triples"));break;case"Stolen Base":r.value;break;case"Error":case"Fielders Choice":case"Interference":b();break;case"Balk":case"No Play":case"Error on foul fly ball":case"Stolen Base":case"Double Steal":case"Defensive Indifference":case"Passed Ball":case"Wild Pitch":break;default:return r}var B,P=Object(l.a)(s);try{for(P.s();!(B=P.n()).done;){var S=B.value.value,T=Object(u.a)(S.value,2),D=T[0],I=T[1],H=Number(D.value.slice(0,1)),A=le(D)?e.batting:e.bases[H];if(c.bases[H]=null,"Successful Advancement"===S.name)if(le(I))o(1);else{var R=Number(I.value.slice(0,1));c.bases[R]=A}else if("Failed Advancement"===S.name){var E=Object(u.a)(S.value,3),C=E[1].value,U=E[2];c.outs+=1,(U&&"Error"===U.name||Array.isArray(C)&&C[1].length>0)&&(c.outs-=1)}}}catch(L){P.e(L)}finally{P.f()}return de(c,(function(e){return e}))}function me(){return(me=Object(d.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,u,d,j,m,h,f,p,x,v,g,O,y,k,w,N;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./chadwickbureau-retrosheet/event/regular/2020NYA.EVA",{method:"GET"});case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,a={games:[]},r=F.a(n),s=" ",c="",i=Object(l.a)(r),e.prev=11,i.s();case 13:if((u=i.n()).done){e.next=90;break}if(d=u.value,j=void 0,"id"===d[0]?(j={info:{},id:null,version:null,starters:[],events:[],data:[],stats:[],comments:[],state:null},a.games.push(j)):j=a.games.slice().pop(),m=d.slice(),"id"!==(h=d.shift())&&"version"!==h){e.next=23;break}j[h]=d.shift(),e.next=86;break;case 23:if("info"!==h){e.next=29;break}f=d.shift(),p=d.shift(),j.info[f]=p,e.next=86;break;case 29:if("start"!==h&&"sub"!==h){e.next=33;break}!function(){var e={playerID:d.shift(),name:d.shift(),team:d.shift(),slot:Number(d.shift()),pos:d.shift(),appearanceNumber:0};if("start"===h)j.starters.push(e);else if("sub"===h){var t=j.state.players.findIndex((function(t){var n=t.team,a=t.slot;return n===e.team&&a===e.slot}));if(-1===t)throw new Error("Missing player for substition ".concat(JSON.stringify(e)," in ").concat(JSON.stringify(j.state.players)));var n=j.state.players[t];j.state=de(j.state,(function(a){return a.players[t]=Object(b.a)(Object(b.a)({},e),{},{appearanceNumber:n.playerID===e.playerID?n.appearanceNumber:n.appearanceNumber+1}),a})),ce(j.events).substitutions.push({from:n,to:e})}}(),e.next=86;break;case 33:if("play"!==h){e.next=47;break}j.state||(j.state=be(j)),x=d.shift(),v=d.shift(),g=d.shift(),O=d.shift().replace(/(\d)(\d)/,"$1-$2"),y=d.shift(),k=d.shift(),w=ee(k),j.events.push({inning:Number(x),battingTeam:v,batterID:g,count:O,pitches:y,play:w,comments:[],substitutions:[],precedingState:j.state})," "!==s&&c===g?ce(j.events).batterHand=s:(s=" ",c=" "),"ParseOK"===w.type&&(j.state=je(j.state,w.value,g)),e.next=86;break;case 47:if("com"!==h){e.next=52;break}(N=ce(j.events))?N.comments.push(d.shift()):j.comments.push({text:d.shift()}),e.next=86;break;case 52:if("stat"!==h){e.next=56;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 56:if("event"!==h){e.next=60;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 60:if("line"!==h){e.next=64;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 64:if("badj"!==h){e.next=68;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 68:if("padj"!==h){e.next=72;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 72:if("ladj"!==h){e.next=76;break}ce(j.events).comments.push(["Unhandled",h].concat(Object(ae.a)(d)).join(",")),e.next=86;break;case 76:if("radj"!==h){e.next=80;break}!function(){var e=d.shift(),t=Number(d.shift());j.state=de(j.state,(function(n){return n.bases[t]=n.players.find((function(t){return t.playerID===e})),n}))}(),e.next=86;break;case 80:if("data"!==h){e.next=85;break}j.data.push(Object(ae.a)(d)),d.length=0,e.next=86;break;case 85:throw new Error("Unhandled line type ".concat(h));case 86:if(!(d.length>0)){e.next=88;break}throw new Error("Remaining tokens ".concat(d," in ").concat(m," for ").concat(h));case 88:e.next=13;break;case 90:e.next=95;break;case 92:e.prev=92,e.t0=e.catch(11),i.e(e.t0);case 95:return e.prev=95,i.f(),e.finish(95);case 98:return e.abrupt("return",a);case 99:case"end":return e.stop()}}),e,null,[[11,92,95,98]])})))).apply(this,arguments)}function he(){return(he=Object(d.a)(o.a.mark((function e(){var t,n,a,r,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./chadwickbureau-retrosheet/misc/parkcode.txt",{method:"GET"});case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,a=F.a(n,{typed:!0}).slice(1).map((function(e){var t=Object(u.a)(e,9);return{parkID:t[0],name:t[1],aka:t[2],city:t[3],state:t[4],start:t[5],end:t[6],league:t[7],notes:t[8]}})),r=new Map,s=Object(l.a)(a);try{for(s.s();!(c=s.n()).done;)i=c.value,r.set(i.parkID,i)}catch(o){s.e(o)}finally{s.f()}return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=r.a.createContext({parks:new Map,people:new Map}),pe=function(e){var t=e.info,n=r.a.useContext(fe).parks,a={site:function(e){var t;return(null===(t=n.get(e))||void 0===t?void 0:t.name)||e}};return Object(p.jsx)("div",{className:f()("grid","items-stretch","justify-evenly","grid-cols-2","sm:grid-cols-3","lg:grid-cols-6"),children:Object.entries(t).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(p.jsxs)("span",{className:"flex flex-col p-2 sm:p-3 lg:px-4 place-items-center",children:[Object(p.jsx)("div",{className:"text-sm font-semibold",children:n}),Object(p.jsx)("div",{className:"text-lg",children:(a[n]||function(e){return e})(r)})]},n)}))})},xe=function(e){var t=e.game,n=[ne.away,ne.home],a=n.map((function(e){var n=t.state.stats.all().filter((function(t){return Object(u.a)(t,1)[0].team===e}));return n.sort((function(e,t){var n=Object(u.a)(e,1)[0],a=Object(u.a)(t,1)[0],r=n.slot-a.slot;return 0!==r?(0!==a.slot&&0!==n.slot||(r=-r),r):r=n.appearanceNumber-a.appearanceNumber})),n}));return Object(p.jsx)("div",{className:"lg:flex justify-around",children:n.map((function(e,n){return Object(p.jsx)(N,{data:a[n],columns:[{header:t.info[e===ne.away?"visteam":"hometeam"],builder:function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(p.jsxs)("span",{className:f()({"ml-2":0!==n.appearanceNumber}),children:[n.name," ",a.positions.map((function(e){return B[e]})).join("-")," ",n.appearanceNumber]})}},{header:"AB",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(p.jsx)("span",{children:n.atBats})}},{header:"H",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(p.jsx)("span",{children:n.hits})}},{header:"BB",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(p.jsx)("span",{children:n.walks})}},{header:"SO",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(p.jsx)("span",{children:n.strikeouts})}}]},e)}))})},ve=function e(t){var n=t.node;switch(n.name){case"Modifier":var a=Object(u.a)(n.value,2),r=a[0],s=a[1];return Object(p.jsxs)(p.Fragment,{children:[" ",r.name,s&&Object(p.jsxs)(p.Fragment,{children:[" to ",s.value.desc]}),"."]});case"Basic Play":return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(e,{node:n.value}),"."]});case"Pick Off":case"Caught Stealing":var c=Object(u.a)(n.value,2),i=c[0],o=c[1];return Object(p.jsxs)(p.Fragment,{children:[n.name," at ",Object(p.jsx)(e,{node:i}),", ",Object(p.jsx)(e,{node:o})]});case"Out":var l=Object(u.a)(n.value,2),d=l[0],b=l[1];return Object(p.jsxs)(p.Fragment,{children:[n.name,", ",Object(p.jsx)(e,{node:d}),b&&Object(p.jsxs)(p.Fragment,{children:[" ","at ",Object(p.jsx)(e,{node:b})]})]});case"Error":var j=Object(u.a)(n.value,3),m=j[0],h=j[1],f=j[2];return Object(p.jsxs)(p.Fragment,{children:[n.name,", ",Object(p.jsx)(e,{node:h}),m&&Object(p.jsxs)(p.Fragment,{children:["; assist by ",Object(p.jsx)(e,{node:m})]}),f&&Object(p.jsxs)(p.Fragment,{children:[" ","(",Object(p.jsx)(e,{node:f}),")"]})]});case"Fielders Choice":return Object(p.jsxs)(p.Fragment,{children:[n.name,n.value&&Object(p.jsxs)(p.Fragment,{children:[", ",Object(p.jsx)(e,{node:n.value})]})]});case"Balk":case"Defensive Indifference":case"Ground Rule Double":case"Hit By Pitch":case"Home Run":case"No Play":case"Passed Ball":case"Wild Pitch":case"throwing":case"Team Unearned Run":case"Unearned Run":case"RBI credited":case"No RBI credited":return Object(p.jsx)(p.Fragment,{children:n.name});case"Strikeout":case"Walk":case"Intentional Walk":var x=n.value;return Object(p.jsxs)(p.Fragment,{children:[n.name,x.flatMap((function(t,n){return[Object(p.jsx)(p.Fragment,{children:" ("}),Object(p.jsx)(e,{node:t},n),Object(p.jsx)(p.Fragment,{children:")"})]}))]});case"Base":if(Array.isArray(n.value)){var v=Object(u.a)(n.value,2),g=v[0],O=v[1].flatMap((function(t,n){return[Object(p.jsx)(e,{node:t},n),", "]})).slice(0,-1),y=0===O.length?null:Object(p.jsxs)(p.Fragment,{children:[" (",O,")"]});return Object(p.jsxs)(p.Fragment,{children:[g,y]})}return Object(p.jsx)(p.Fragment,{children:n.value});case"Fielder":return Object(p.jsx)(p.Fragment,{children:n.value});case"Hit":return Object(p.jsx)(e,{node:n.value});case"Advancement":return Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsx)(e,{node:n.value}),"."]});case"Single":case"Double":case"Triple":case"Inside The Park Home Run":return Object(p.jsxs)(p.Fragment,{children:[n.name," to ",Object(p.jsx)(e,{node:n.value})]});case"Fielders":return Object(p.jsx)("span",{children:n.value.flatMap((function(t){return[Object(p.jsx)(e,{node:t},t.value),Object(p.jsx)(p.Fragment,{children:" to "})]})).slice(0,-1)});case"Play":return Object(p.jsx)("span",{children:n.value.map((function(t){return Array.isArray(t)?t.map((function(t,n){return Object(p.jsx)(e,{node:t},t.name+n)})):Object(p.jsx)(e,{node:t},t.name)}))});case"Double Play":var k=Object(u.a)(n.value,3),w=k[0],N=k[1],F=k[2];return Object(p.jsxs)(p.Fragment,{children:[n.name,", ",Object(p.jsx)(e,{node:w})," out at ",Object(p.jsx)(e,{node:N}),F&&Object(p.jsxs)(p.Fragment,{children:[" ","by ",Object(p.jsx)(e,{node:F})]})]});case"Stolen Base":return Object(p.jsxs)(p.Fragment,{children:["Stole ",Object(p.jsx)(e,{node:n.value})]});case"Double Steal":return Object(p.jsx)(p.Fragment,{children:n.value.flatMap((function(t,n){return[Object(p.jsx)(e,{node:t},n)," and "]})).slice(0,-1)});case"Successful Advancement":var B=Object(u.a)(n.value,3),P=B[0],S=B[1],T=B[2];return Object(p.jsxs)(p.Fragment,{children:["Runner advanced from ",Object(p.jsx)(e,{node:P})," to"," ",Object(p.jsx)(e,{node:S}),T&&Object(p.jsxs)(p.Fragment,{children:[" ","(",Object(p.jsx)(e,{node:T}),")"]})]});case"Failed Advancement":var D=Object(u.a)(n.value,3),I=D[1].value,H=D[2],A=H&&"Error"===H.name||Array.isArray(I)&&I[1].length>0;return Object(p.jsxs)(p.Fragment,{children:["Runner ",A?"safe":"out"," advancing from"," ",Object(p.jsx)(e,{node:n.value[0]})," to ",Object(p.jsx)(e,{node:n.value[1]}),n.value[2]&&Object(p.jsxs)(p.Fragment,{children:[" ","(",Object(p.jsx)(e,{node:n.value[2]}),")"]})]});case"Interference":var R=n.value;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(e,{node:R})," interference"]});case"Error on foul fly ball":var E=n.value;return Object(p.jsxs)(p.Fragment,{children:[n.name," by ",Object(p.jsx)(e,{node:E})]});default:return n}},ge=function(e){var t=e.play;if("ParseFail"===t.type)return Object(p.jsxs)("div",{children:["Parsing failed",Object(p.jsxs)("pre",{children:[t.source,Object(p.jsx)("br",{})," ".repeat(t.location.column-1),"^"]}),"Expected one of:",Object(p.jsx)("ul",{className:f()("list-disc","list-inside"),children:t.expected.map((function(e,t){return Object(p.jsx)("li",{children:Object(p.jsx)("pre",{className:"inline",children:e})},t)}))})]});var n=t.value;return Object(p.jsx)("span",{className:f()({"font-bold":te(n)}),children:Object(p.jsx)(ve,{node:n})})},Oe=function(e){var t=e.game;r.a.useContext(fe).people;return Object(p.jsx)(N,{className:f()("table","table-auto"),data:t.events,ifEmpty:Object(p.jsx)(p.Fragment,{children:"Huh, a game with no events. How strange!"}),row:function(e){return{className:f()("table-row","border-b","border-gray-300","align-text-top",{"bg-gray-200":e.battingTeam===ne.away,"font-bold":"ParseOK"===e.play.type&&te(e.play.value),"bg-red-200":"ParseFail"===e.play.type})}},columns:[{header:"Inning",builder:function(e){return Object(p.jsxs)("span",{className:f()({"bg-red-300":e.battingTeam!==e.precedingState.battingTeam||e.inning!==e.precedingState.inning}),children:[(e.battingTeam!==e.precedingState.battingTeam||e.inning!==e.precedingState.inning)&&"XXXXX","0"===e.battingTeam?"Top":"Bottom"," ",e.inning]})}},{header:"Outs",builder:function(e){return e.precedingState.outs}},{header:"Score",builder:function(e){return Object(p.jsxs)(p.Fragment,{children:[e.precedingState.score.away," -"," ",e.precedingState.score.home]})}},{header:"Bases",builder:function(e){return e.precedingState.bases.slice(1).map((function(e,t){return null!==e?t+1:"x"})).join("")}},{header:"Pitching",builder:function(e){return e.precedingState.pitching.name}},{header:"Batting",builder:function(e){var t=e.precedingState.batting;return t.playerID!==e.batterID?"Expected ".concat(JSON.stringify(t)," to be up, instead it is ").concat(e.batterID):t.name}},{header:"Count",builder:function(e){return e.count}},{header:"Play",builder:function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ge,{play:e.play}),e.comments.map((function(e,t){return Object(p.jsx)("p",{children:e},t)})),e.substitutions.map((function(e,t){var n=e.from,a=e.to;return Object(p.jsxs)("p",{children:[n.playerID===a.playerID&&Object(p.jsxs)(p.Fragment,{children:[n.name," moved from ",B[n.pos]," to"," ",B[a.pos]]}),n.playerID!==a.playerID&&Object(p.jsxs)(p.Fragment,{children:[a.name," replaced ",n.name,",",0!==a.slot&&" batting ".concat(a.slot," and")," playing"," ",B[a.pos]]}),"."]},t)}))]})}}]})},ye=function(e){var t=e.game,n=r.a.useState(!1),a=Object(u.a)(n,2),s=a[0],c=a[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(v,{children:[Object(p.jsx)(g,{children:Object(p.jsxs)("a",{href:"https://www.retrosheet.org/boxesetc/".concat(t.id.slice(3,7),"/B").concat(t.id.slice(7)+t.id.slice(0,7),".htm"),target:t.id,children:[t.info.visteam," (",t.state.score.away,") @ ",t.info.hometeam," ","(",t.state.score.home,") on ",t.info.date,"0"!==t.info.number&&" (".concat(t.info.number,")")]})}),Object(p.jsxs)(O,{children:[Object(p.jsx)(k,{children:Object(p.jsx)(w,{onClick:function(){return c(!s)},children:"Toggle JSON"})}),Object(p.jsx)(y,{children:Object(p.jsxs)("div",{className:f()("grid","gap-6"),style:{gridTemplateColumns:"100%"},children:[s&&Object(p.jsx)("pre",{className:"text-left",children:JSON.stringify(t,null,2)}),Object(p.jsx)(pe,{info:t.info}),Object(p.jsx)(xe,{game:t}),Object(p.jsx)(Oe,{game:t})]})})]})]})})},ke=function(e){var t=e.logs;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"flex flex-col",children:t.games.map((function(e){return Object(p.jsx)("div",{className:"mb-6 mx-4",children:Object(p.jsx)(ye,{game:e},e.id)},e.id)}))})})};var we=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=r.a.useState(null),c=Object(u.a)(s,2),i=c[0],o=c[1],l=r.a.useState(null),d=Object(u.a)(l,2),b=d[0],j=d[1];return r.a.useEffect((function(){(function(){return me.apply(this,arguments)})().then((function(e){return a(e)})),function(){return he.apply(this,arguments)}().then((function(e){o(e)}))}),[a,o,j]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(x,{variant:"error",children:[Object(p.jsx)("span",{className:"md:hidden",children:"Welcome to BoxScored"}),Object(p.jsxs)("span",{className:"hidden md:inline",children:["Welcome to BoxScored, a thing"," ",Object(p.jsx)("a",{href:"https://segiddins.me/",target:"_blank",rel:"noreferrer",className:"underline",children:"segiddins@"})," ","built."]})]}),Object(p.jsx)(fe.Provider,{value:{parks:i||new Map,people:b||new Map},children:n&&Object(p.jsx)(ke,{logs:n})})]})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(we,{})}),document.getElementById("root")),Ne()}},[[26,1,2]]]);
//# sourceMappingURL=main.aa748d24.chunk.js.map