(this["webpackJsonpbox-scored"]=this["webpackJsonpbox-scored"]||[]).push([[0],{37:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(28),c=n.n(s),i=(n(37),n(11)),o=n.n(i),l=n(8),u=n(3),d=n(17),b=n(4),j=n(31),m=n(29),h=n(6),f=n(32),p=n(24),x=n(5),v=n.n(x),g=n(1),O=function(e){var t=e.variant,n=e.dismissible,r=void 0===n||n,s=e.closeLabel,c=void 0===s?"Dismiss":s,i=e.LeftIcon,o=void 0===i?p.a:i,l=e.action,d=void 0===l?null:l,b=e.children,j=a.useState(!0),m=Object(u.a)(j,2),h=m[0],f=m[1];if(!h)return null;return Object(g.jsx)("div",{className:"".concat({info:"bg-indigo-400",warning:"bg-yellow-500",error:"bg-red-400"}[t]," mb-3"),children:Object(g.jsx)("div",{className:"mx-auto py-3 px-3 sm:px-6 lg:px-8",children:Object(g.jsxs)("div",{className:"flex items-center justify-between flex-wrap",children:[Object(g.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[o&&Object(g.jsx)("span",{className:"flex p-2 rounded-lg ".concat({info:"bg-indigo-700",warning:"bg-yellow-800",error:"bg-red-700"}[t]),children:Object(g.jsx)(o,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),Object(g.jsx)("p",{className:"ml-3 font-medium text-white truncate",children:b})]}),d&&Object(g.jsx)("div",{className:"order-3 mt-2 flex-shrink-0 w-full sm:order-2 sm:mt-0 sm:w-auto",children:Object(g.jsx)("span",{className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ".concat({info:"text-indigo-500",warning:"text-yellow-600",error:"text-red-500"}[t]," bg-white hover:bg-indigo-50"),children:d})}),r&&Object(g.jsx)("div",{className:"order-2 flex-shrink-0 sm:order-3 sm:ml-3",children:Object(g.jsxs)("button",{type:"button",className:"-mr-1 flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2",onClick:function(){return f(!1)},children:[Object(g.jsx)("span",{className:"sr-only",children:c}),Object(g.jsx)(p.b,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})]})})})},y=function(e){var t=e.children;return Object(g.jsx)("div",{className:"shadow-md rounded-md p-2 border-gray-400 border-opacity-70 border-solid border",children:Object(g.jsx)("div",{className:"p-2",children:t})})},k=function(e){var t=e.children;return Object(g.jsx)("h3",{className:"text-lg leading-6 font-semibold text-gray-900 text-center",children:t})},w=function(e){var t=e.children;return Object(g.jsx)("div",{className:"bg-white px-2 py-1",children:Object(g.jsx)("div",{className:"sm:flex sm:items-center",children:Object(g.jsx)("div",{className:"sm:flex-1 mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:t})})})},N=function(e){var t=e.children;return Object(g.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:t})},F=function(e){var t=e.children;return Object(g.jsx)("div",{className:"sm:flex sm:flex-wrap sm:items-center sm:justify-items-center justify-center",children:t})},B=function(e){var t=e.data,n=e.columns,a=e.ifEmpty,r=void 0===a?void 0:a,s=e.row,c=void 0===s?function(){return{className:v()("table-row","border-b","border-gray-300","align-text-top")}}:s,i=Object(f.a)(e,["data","columns","ifEmpty","row"]);if(0===t.length&&r)return Object(g.jsx)(g.Fragment,{children:r});var o=Array.isArray(n)?n:[n];return Object(g.jsxs)("table",Object(h.a)(Object(h.a)({className:v()("table","border-collapse")},i),{},{children:[Object(g.jsx)("thead",{className:v()("table-header-group"),children:o.map((function(e,t){return Object(g.jsx)("th",{children:e.header},t)}))}),Object(g.jsx)("tbody",{className:v()("table-row-group"),children:t.map((function(e,t){return Object(g.jsx)("tr",Object(h.a)(Object(h.a)({},c(e)),{},{children:o.map((function(t,n){return Object(g.jsx)("td",{children:t.builder(e)},n)}))}),t)}))})]}))},P=n(18),S={1:"P",2:"C",3:"1B",4:"2B",5:"3B",6:"SS",7:"LF",8:"CF",9:"RF",10:"DH",11:"PH",12:"PR"},T=n(2),D=T.c(/[1-9]/).map((function(e){return S[e]})).desc(["position"]).node("Fielder"),I=T.a(D.or(T.d(null)).skip(T.e("E")),D,T.e("/TH").map((function(){return"TH"})).node("throwing").or(T.d(null))).node("Error"),H=T.b(T.e("1").next(T.d("1B")),T.e("2").next(T.d("2B")),T.e("3").next(T.d("3B")),T.e("H").next(T.d("Home")).and(T.b(I,T.e("TUR").node("Team Unearned Run"),T.e("UR").node("Unearned Run"),T.e("RBI").node("RBI credited"),T.e("NR").or(T.e("NORBI")).node("No RBI credited")).wrap(T.e("("),T.e(")")).repeat(0)),T.e("B").next(T.d("Home"))).desc(["base"]).node("Base"),A=D.repeat(1).desc(["fielders"]).node("Fielders"),R=A.and(H.wrap(T.e("("),T.e(")")).or(T.d(null))).node("Out"),E=T.b(T.e("S").next(A).node("Single"),T.e("D").next(A).node("Double"),T.e("T").next(A).node("Triple"),T.e("HR").or(T.e("H")).next(A).node("Inside The Park Home Run"),T.e("HR").or(T.e("H")).node("Home Run"),T.e("DGR").node("Ground Rule Double")).node("Hit"),C=T.e("HP").node("Hit By Pitch"),U=T.e("NP").node("No Play"),L=T.e("SB").next(H).node("Stolen Base"),M=L.sepBy(T.e(";"),2).node("Double Steal"),W=T.b(T.e("BK").node("Balk"),T.e("CS").next(T.a(H,A.wrap(T.e("("),T.e(")")))).node("Caught Stealing"),T.a(T.e("PO").next(H),I.or(A).wrap(T.e("("),T.e(")"))).node("Pick Off"),M,L,T.e("PB").node("Passed Ball"),T.e("DI").node("Defensive Indifference"),T.e("WP").node("Wild Pitch")),G=T.e("+").next(W).repeat(),X=T.e("K").next(G).node("Strikeout"),J=T.c(/IW?/).next(G).node("Intentional Walk"),K=T.e("W").next(G).node("Walk"),V=T.e("FC").next(A.or(T.d(null))).node("Fielders Choice"),$=T.e("C/").next(T.e("E").next(D).node("Interference")),Y=T.a(A,H.wrap(T.e("("),T.e(")")),A).node("Double Play"),_=T.e("FLE").next(D).node("Error on foul fly ball"),q=T.b(_,U,W,V,I,Y,R,K,C,E,X,J,$).node("Basic Play"),z=T.a(D.or(T.e("0").node("Unknown location")).repeat(1,2).map((function(e){return e.map((function(e){return e.value}))})).or(T.b(T.e("+"),T.e("-")).map((function(){return null}))),T.e("L").or(T.d(null)).map((function(e){return!e})),T.e("M").map((function(){return"medium"})).or(T.e("X").map((function(){return"extra"}))).or(T.d(null)),T.e("D").map((function(){return"deep"})).or(T.e("S").map((function(){return"shallow"}))).or(T.d(null)),T.e("F").map((function(){return"Foul"})).or(T.d(null)),T.e("+").or(T.e("-")).or(T.d(null))).map((function(e){var t=Object(u.a)(e,5),n=t[0],a=t[1],r=t[2],s=t[3],c=t[4];return{fieldLocation:null===n||void 0===n?void 0:n.join("-"),towardTheLine:a,severity:r,depth:s,foul:c,desc:[r,s,null===n||void 0===n?void 0:n.join("-"),c&&"(foul)"].filter((function(e){return e})).join(" ")}})).node("Hit Location"),Q=T.b(T.e("AP").node("Appeal Play"),T.e("BGDP").node("bunt grounded into double play"),T.e("BG").node("ground ball bunt"),T.e("BINT").node("batter interference"),T.e("BL").node("line drive bunt"),T.e("BOOT").node("batting out of turn"),T.e("BPDP").node("bunt popped into double play"),T.e("BP").node("bunt pop up"),T.e("BR").node("runner hit by batted ball"),T.e("COUB").node("courtesy batter"),T.e("COUF").node("courtesy fielder"),T.e("COUR").node("courtesy runner"),T.e("C").node("called third strike"),T.e("DP").node("Double play"),T.e("E").next(D).node("error"),T.e("FDP").node("fly ball double play"),T.e("FINT").node("fan interference"),T.e("FL").node("foul"),T.e("FO").node("force out"),T.e("F").node("fly"),T.e("GDP").node("ground ball double play"),T.e("GTP").node("ground ball triple play"),T.e("G").node("ground ball"),T.e("IF").node("infield fly rule"),T.e("INT").node("interference"),T.e("IPHR").node("inside the park home run"),T.e("LDP").node("lined into double play"),T.e("LTP").node("lined into triple play"),T.e("L").node("line drive"),T.e("MREV").node("manager challenge of call on the field"),T.e("NDP").node("no double play credited for this play"),T.e("OBS").node("obstruction (fielder obstructing a runner)"),T.e("PASS").node("a runner passed another runner and was called out"),T.e("P").node("pop fly"),T.e("RINT").node("runner interference"),T.e("R").next(D).node("relay throw from the initial fielder to $ with no out made"),T.e("SF").node("sacrifice fly"),T.e("SH").node("sacrifice hit (bunt)"),T.e("TH").next(H).node("throw to base %"),T.e("TH").node("throw"),T.e("TP").node("Triple play"),T.e("UINT").node("umpire interference"),T.e("UREV").node("umpire review of call on the field")).and(z.or(T.d(null))).node("Modifier"),Z=T.e("/").next(Q.sepBy(T.e("/"))).or(T.d([])),ee=T.b(T.a(H.skip(T.e("-")),H,I.wrap(T.e("("),T.e(")")).or(T.d(null))).node("Successful Advancement"),T.a(H.skip(T.e("X")),H,I.or(A).wrap(T.e("("),T.e(")")).or(T.d(null))).node("Failed Advancement")).node("Advancement"),te=T.a(q,Z,T.e(".").next(ee.sepBy(T.e(";"))).or(T.d([]))).node("Play");function ne(e){var t=te.parse(e);return"ParseFail"===t.type?Object(h.a)(Object(h.a)({},t),{},{source:e}):t}function ae(e){var t=e.value,n=Object(u.a)(t,3),a=n[0].value,r=n[2];return"Hit"===a.name&&a.value.name.includes("Home Run")||!!r.find((function(e){return"Successful Advancement"===e.value.name&&("Home"===e.value.value[1].value||Array.isArray(e.value.value[1].value)&&"Home"===e.value.value[1].value[0])}))}var re,se=n(7),ce=n(14),ie=n(12);function oe(e){return e.slice().pop()}!function(e){e.home="1",e.away="0"}(re||(re={}));var le=function(){function e(){Object(ie.a)(this,e),this.positions=[],this.atBats=0,this.plateAppearances=0,this.hitByPitches=0,this.singles=0,this.doubles=0,this.triples=0,this.homeruns=0,this.hits=0,this.walks=0,this.strikeouts=0}return Object(ce.a)(e,[{key:"record",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(this[e]+=t,e){case"plateAppearances":case"hits":throw new Error("do not record ".concat(e," directly"));case"atBats":break;case"singles":case"doubles":case"triples":case"homeruns":case"strikeouts":this.atBats+=t;break;case"walks":case"hitByPitches":break;default:return e}this.hits=this.singles+this.doubles+this.triples+this.homeruns,this.plateAppearances=this.atBats+this.walks+this.hitByPitches}}]),e}(),ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ie.a)(this,e),this.stats=t}return Object(ce.a)(e,[{key:"stat",value:function(e){var t=JSON.stringify(Object(h.a)(Object(h.a)({},e),{},{pos:void 0})),n=this.stats[t],a=n&&n[1];a||(a=new le,this.stats[t]=[e,a]);var r=a.positions;return oe(r)!==e.pos&&r.push(e.pos),a}},{key:"copy",value:function(){return new e(Object(h.a)({},this.stats))}},{key:"all",value:function(){return Object.values(this.stats)}}]),e}();function de(e){return"string"===typeof e.value?"Home"===e.value:"Home"===e.value[0]}var be=function(e){return e===re.home?re.away:re.home};function je(e,t){var n=t({stats:e.stats.copy(),bases:[null,e.bases[1],e.bases[2],e.bases[3]],score:Object(h.a)({},e.score),players:e.players.slice(),errors:e.errors,gdp:e.gdp,inning:e.inning,battingTeam:e.battingTeam,outs:e.outs,pitching:e.pitching,batting:e.batting,onDeck:e.onDeck,inTheHole:e.inTheHole,nextUp:Object(h.a)({},e.nextUp),slotsAway:e.slotsAway});n.outs>=3&&(e.battingTeam===re.home&&(n.inning+=1),n.battingTeam=be(e.battingTeam),n.bases=[null,null,null,null],n.outs=0);var a,r=Object(l.a)(n.players);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.stats.stat(s)}}catch(c){r.e(c)}finally{r.f()}return n.pitching=n.players.find((function(e){return"1"===e.pos&&e.team===be(n.battingTeam)})),n.batting=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,0)})),n.onDeck=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,1)})),n.inTheHole=n.players.find((function(e){return e.team===n.battingTeam&&e.slot===n.slotsAway(n.battingTeam,2)})),n}function me(e){return je({players:e.starters.slice(),errors:[],gdp:[],stats:new ue,inning:1,battingTeam:re.away,outs:0,pitching:void 0,bases:[null,null,null,null],batting:void 0,onDeck:void 0,inTheHole:void 0,score:{home:0,away:0},nextUp:{0:1,1:1},slotsAway:function(e,t){return(this.nextUp[e]-1+t)%9+1}},(function(e){return e}))}function he(e,t,n){var a=Object(u.a)(t.value,3),r=a[0].value,s=a[2];e.batting.playerID;var c=je(e,(function(e){return e})),i=e.stats.stat(e.batting),o=function(t){c.score[e.battingTeam===re.home?"home":"away"]+=t},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c.outs+=e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c.nextUp[c.battingTeam]=c.slotsAway(c.battingTeam,e)};switch(r.name){case"Caught Stealing":d();break;case"Out":d(),b(),i.record("atBats");break;case"Strikeout":d(),b(),i.record("strikeouts"),console.log("Stikeout",i,c.batting);var j,m=Object(l.a)(r.value);try{for(m.s();!(j=m.n()).done;){var h=j.value;["Caught Stealing","Pick Off"].includes(h.name)&&(c.outs+=1)}}catch(L){m.e(L)}finally{m.f()}var f,p=Object(l.a)(s);try{for(p.s();!(f=p.n()).done;){var x=f.value;de(Object(u.a)(x.value.value,1)[0])&&(c.outs-=1)}}catch(L){p.e(L)}finally{p.f()}break;case"Walk":case"Intentional Walk":i.record("walks");var v,g=Object(l.a)(r.value);try{for(g.s();!(v=g.n()).done;){var O=v.value;["Caught Stealing","Pick Off"].includes(O.name)&&(c.outs+=1)}}catch(L){g.e(L)}finally{g.f()}c.bases[1]=e.batting,b();break;case"Hit By Pitch":c.bases[1]=e.batting,b();break;case"Pick Off":var y=Object(u.a)(r.value,2),k=y[0],w=y[1];if(w&&"Error"===w.name){var N=Number(k.value.slice(0,1));c.bases[N]=null}else c.outs+=1;break;case"Double Play":c.outs+=2,b();break;case"Hit":b();var F=r.value;["Home Run","Inside The Park Home Run"].includes(F.name)?(o(1),i.record("homeruns")):"Single"===F.name?(c.bases[1]=e.batting,i.record("singles")):"Double"===F.name?(c.bases[2]=e.batting,i.record("doubles")):"Triple"===F.name&&(c.bases[3]=e.batting,i.record("triples"));break;case"Stolen Base":r.value;break;case"Error":case"Fielders Choice":case"Interference":b();break;case"Balk":case"No Play":case"Error on foul fly ball":case"Stolen Base":case"Double Steal":case"Defensive Indifference":case"Passed Ball":case"Wild Pitch":break;default:return r}var B,P=Object(l.a)(s);try{for(P.s();!(B=P.n()).done;){var S=B.value.value,T=Object(u.a)(S.value,2),D=T[0],I=T[1],H=Number(D.value.slice(0,1)),A=de(D)?e.batting:e.bases[H];if(c.bases[H]=null,"Successful Advancement"===S.name)if(de(I))o(1);else{var R=Number(I.value.slice(0,1));c.bases[R]=A}else if("Failed Advancement"===S.name){var E=Object(u.a)(S.value,3),C=E[1].value,U=E[2];c.outs+=1,(U&&"Error"===U.name||Array.isArray(C)&&C[1].length>0)&&(c.outs-=1)}}}catch(L){P.e(L)}finally{P.f()}return je(c,(function(e){return e}))}function fe(){return(fe=Object(d.a)(o.a.mark((function e(t){var n,a,r,s,c,i,u,d,b,j,m,f,p,x,v,g,O,y,k,w,N,F,B,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.year,a=t.team,e.next=3,fetch("chadwickbureau-retrosheet/event/regular/".concat(n).concat(a,".EVA"),{method:"GET"});case 3:return r=e.sent,e.next=6,r.text();case 6:s=e.sent,c={games:[]},i=P.a(s),u=" ",d="",b=Object(l.a)(i),e.prev=12,b.s();case 14:if((j=b.n()).done){e.next=91;break}if(m=j.value,f=void 0,"id"===m[0]?(f={info:{},id:null,version:null,starters:[],events:[],data:[],stats:[],comments:[],state:null},c.games.push(f)):f=c.games.slice().pop(),p=m.slice(),"id"!==(x=m.shift())&&"version"!==x){e.next=24;break}f[x]=m.shift(),e.next=87;break;case 24:if("info"!==x){e.next=30;break}v=m.shift(),g=m.shift(),f.info[v]=g,e.next=87;break;case 30:if("start"!==x&&"sub"!==x){e.next=34;break}!function(){var e={playerID:m.shift(),name:m.shift(),team:m.shift(),slot:Number(m.shift()),pos:m.shift(),appearanceNumber:0};if("start"===x)f.starters.push(e);else if("sub"===x){var t=f.state.players.findIndex((function(t){var n=t.team,a=t.slot;return n===e.team&&a===e.slot}));if(-1===t)throw new Error("Missing player for substition ".concat(JSON.stringify(e)," in ").concat(JSON.stringify(f.state.players)));var n=f.state.players[t];f.state=je(f.state,(function(a){return a.players[t]=Object(h.a)(Object(h.a)({},e),{},{appearanceNumber:n.playerID===e.playerID?n.appearanceNumber:n.appearanceNumber+1}),a})),oe(f.events).substitutions.push({from:n,to:e})}}(),e.next=87;break;case 34:if("play"!==x){e.next=48;break}f.state||(f.state=me(f)),O=m.shift(),y=m.shift(),k=m.shift(),w=m.shift().replace(/(\d)(\d)/,"$1-$2"),N=m.shift(),F=m.shift(),B=ne(F),f.events.push({inning:Number(O),battingTeam:y,batterID:k,count:w,pitches:N,play:B,comments:[],substitutions:[],precedingState:f.state})," "!==u&&d===k?oe(f.events).batterHand=u:(u=" ",d=" "),"ParseOK"===B.type&&(f.state=he(f.state,B.value)),e.next=87;break;case 48:if("com"!==x){e.next=53;break}(S=oe(f.events))?S.comments.push(m.shift()):f.comments.push({text:m.shift()}),e.next=87;break;case 53:if("stat"!==x){e.next=57;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 57:if("event"!==x){e.next=61;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 61:if("line"!==x){e.next=65;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 65:if("badj"!==x){e.next=69;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 69:if("padj"!==x){e.next=73;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 73:if("ladj"!==x){e.next=77;break}oe(f.events).comments.push(["Unhandled",x].concat(Object(se.a)(m)).join(",")),e.next=87;break;case 77:if("radj"!==x){e.next=81;break}!function(){var e=m.shift(),t=Number(m.shift());f.state=je(f.state,(function(n){return n.bases[t]=n.players.find((function(t){return t.playerID===e})),n}))}(),e.next=87;break;case 81:if("data"!==x){e.next=86;break}f.data.push(Object(se.a)(m)),m.length=0,e.next=87;break;case 86:throw new Error("Unhandled line type ".concat(x));case 87:if(!(m.length>0)){e.next=89;break}throw new Error("Remaining tokens ".concat(m," in ").concat(p," for ").concat(x));case 89:e.next=14;break;case 91:e.next=96;break;case 93:e.prev=93,e.t0=e.catch(12),b.e(e.t0);case 96:return e.prev=96,b.f(),e.finish(96);case 99:return e.abrupt("return",c);case 100:case"end":return e.stop()}}),e,null,[[12,93,96,99]])})))).apply(this,arguments)}var pe=r.a.createContext({parks:new Map,people:new Map}),xe=function(e){var t=e.info,n=r.a.useContext(pe).parks,a={site:function(e){var t;return(null===(t=n.get(e))||void 0===t?void 0:t.name)||e}};return Object(g.jsx)("div",{className:v()("grid","items-stretch","justify-evenly","grid-cols-2","sm:grid-cols-3","lg:grid-cols-6"),children:Object.entries(t).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(g.jsxs)("span",{className:"flex flex-col p-2 sm:p-3 lg:px-4 place-items-center",children:[Object(g.jsx)("div",{className:"text-sm font-semibold",children:n}),Object(g.jsx)("div",{className:"text-lg",children:(a[n]||function(e){return e})(r)})]},n)}))})},ve=function(e){var t=e.game,n=[re.away,re.home],a=n.map((function(e){var n=t.state.stats.all().filter((function(t){return Object(u.a)(t,1)[0].team===e}));return n.sort((function(e,t){var n=Object(u.a)(e,1)[0],a=Object(u.a)(t,1)[0],r=n.slot-a.slot;return 0!==r?(0!==a.slot&&0!==n.slot||(r=-r),r):r=n.appearanceNumber-a.appearanceNumber})),n}));return Object(g.jsx)("div",{className:"lg:flex justify-around",children:n.map((function(e,n){return Object(g.jsx)(B,{data:a[n],columns:[{header:t.info[e===re.away?"visteam":"hometeam"],builder:function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(g.jsxs)("span",{className:v()({"ml-2":0!==n.appearanceNumber}),children:[n.name," ",a.positions.map((function(e){return S[e]})).join("-")," ",n.appearanceNumber]})}},{header:"AB",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(g.jsx)("span",{children:n.atBats})}},{header:"H",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(g.jsx)("span",{children:n.hits})}},{header:"BB",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(g.jsx)("span",{children:n.walks})}},{header:"SO",builder:function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(g.jsx)("span",{children:n.strikeouts})}}]},e)}))})},ge=function e(t){var n=t.node;switch(n.name){case"Modifier":var a=Object(u.a)(n.value,2),r=a[0],s=a[1];return Object(g.jsxs)(g.Fragment,{children:[" ",r.name,s&&Object(g.jsxs)(g.Fragment,{children:[" to ",s.value.desc]}),"."]});case"Basic Play":return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(e,{node:n.value}),"."]});case"Pick Off":case"Caught Stealing":var c=Object(u.a)(n.value,2),i=c[0],o=c[1];return Object(g.jsxs)(g.Fragment,{children:[n.name," at ",Object(g.jsx)(e,{node:i}),", ",Object(g.jsx)(e,{node:o})]});case"Out":var l=Object(u.a)(n.value,2),d=l[0],b=l[1];return Object(g.jsxs)(g.Fragment,{children:[n.name,", ",Object(g.jsx)(e,{node:d}),b&&Object(g.jsxs)(g.Fragment,{children:[" ","at ",Object(g.jsx)(e,{node:b})]})]});case"Error":var j=Object(u.a)(n.value,3),m=j[0],h=j[1],f=j[2];return Object(g.jsxs)(g.Fragment,{children:[n.name,", ",Object(g.jsx)(e,{node:h}),m&&Object(g.jsxs)(g.Fragment,{children:["; assist by ",Object(g.jsx)(e,{node:m})]}),f&&Object(g.jsxs)(g.Fragment,{children:[" ","(",Object(g.jsx)(e,{node:f}),")"]})]});case"Fielders Choice":return Object(g.jsxs)(g.Fragment,{children:[n.name,n.value&&Object(g.jsxs)(g.Fragment,{children:[", ",Object(g.jsx)(e,{node:n.value})]})]});case"Balk":case"Defensive Indifference":case"Ground Rule Double":case"Hit By Pitch":case"Home Run":case"No Play":case"Passed Ball":case"Wild Pitch":case"throwing":case"Team Unearned Run":case"Unearned Run":case"RBI credited":case"No RBI credited":return Object(g.jsx)(g.Fragment,{children:n.name});case"Strikeout":case"Walk":case"Intentional Walk":var p=n.value;return Object(g.jsxs)(g.Fragment,{children:[n.name,p.flatMap((function(t,n){return[Object(g.jsx)(g.Fragment,{children:" ("}),Object(g.jsx)(e,{node:t},n),Object(g.jsx)(g.Fragment,{children:")"})]}))]});case"Base":if(Array.isArray(n.value)){var x=Object(u.a)(n.value,2),v=x[0],O=x[1].flatMap((function(t,n){return[Object(g.jsx)(e,{node:t},n),", "]})).slice(0,-1),y=0===O.length?null:Object(g.jsxs)(g.Fragment,{children:[" (",O,")"]});return Object(g.jsxs)(g.Fragment,{children:[v,y]})}return Object(g.jsx)(g.Fragment,{children:n.value});case"Fielder":return Object(g.jsx)(g.Fragment,{children:n.value});case"Hit":return Object(g.jsx)(e,{node:n.value});case"Advancement":return Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)(e,{node:n.value}),"."]});case"Single":case"Double":case"Triple":case"Inside The Park Home Run":return Object(g.jsxs)(g.Fragment,{children:[n.name," to ",Object(g.jsx)(e,{node:n.value})]});case"Fielders":return Object(g.jsx)("span",{children:n.value.flatMap((function(t){return[Object(g.jsx)(e,{node:t},t.value),Object(g.jsx)(g.Fragment,{children:" to "})]})).slice(0,-1)});case"Play":return Object(g.jsx)("span",{children:n.value.map((function(t){return Array.isArray(t)?t.map((function(t,n){return Object(g.jsx)(e,{node:t},t.name+n)})):Object(g.jsx)(e,{node:t},t.name)}))});case"Double Play":var k=Object(u.a)(n.value,3),w=k[0],N=k[1],F=k[2];return Object(g.jsxs)(g.Fragment,{children:[n.name,", ",Object(g.jsx)(e,{node:w})," out at ",Object(g.jsx)(e,{node:N}),F&&Object(g.jsxs)(g.Fragment,{children:[" ","by ",Object(g.jsx)(e,{node:F})]})]});case"Stolen Base":return Object(g.jsxs)(g.Fragment,{children:["Stole ",Object(g.jsx)(e,{node:n.value})]});case"Double Steal":return Object(g.jsx)(g.Fragment,{children:n.value.flatMap((function(t,n){return[Object(g.jsx)(e,{node:t},n)," and "]})).slice(0,-1)});case"Successful Advancement":var B=Object(u.a)(n.value,3),P=B[0],S=B[1],T=B[2];return Object(g.jsxs)(g.Fragment,{children:["Runner advanced from ",Object(g.jsx)(e,{node:P})," to"," ",Object(g.jsx)(e,{node:S}),T&&Object(g.jsxs)(g.Fragment,{children:[" ","(",Object(g.jsx)(e,{node:T}),")"]})]});case"Failed Advancement":var D=Object(u.a)(n.value,3),I=D[1].value,H=D[2],A=H&&"Error"===H.name||Array.isArray(I)&&I[1].length>0;return Object(g.jsxs)(g.Fragment,{children:["Runner ",A?"safe":"out"," advancing from"," ",Object(g.jsx)(e,{node:n.value[0]})," to ",Object(g.jsx)(e,{node:n.value[1]}),n.value[2]&&Object(g.jsxs)(g.Fragment,{children:[" ","(",Object(g.jsx)(e,{node:n.value[2]}),")"]})]});case"Interference":var R=n.value;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(e,{node:R})," interference"]});case"Error on foul fly ball":var E=n.value;return Object(g.jsxs)(g.Fragment,{children:[n.name," by ",Object(g.jsx)(e,{node:E})]});default:return n}},Oe=function(e){var t=e.play;if("ParseFail"===t.type)return Object(g.jsxs)("div",{children:["Parsing failed",Object(g.jsxs)("pre",{children:[t.source,Object(g.jsx)("br",{})," ".repeat(t.location.column-1),"^"]}),"Expected one of:",Object(g.jsx)("ul",{className:v()("list-disc","list-inside"),children:t.expected.map((function(e,t){return Object(g.jsx)("li",{children:Object(g.jsx)("pre",{className:"inline",children:e})},t)}))})]});var n=t.value;return Object(g.jsx)("span",{className:v()({"font-bold":ae(n)}),children:Object(g.jsx)(ge,{node:n})})},ye=function(e){var t=e.game;r.a.useContext(pe).people;return Object(g.jsx)(B,{className:v()("table","table-auto"),data:t.events,ifEmpty:Object(g.jsx)(g.Fragment,{children:"Huh, a game with no events. How strange!"}),row:function(e){return{className:v()("table-row","border-b","border-gray-300","align-text-top",{"bg-gray-200":e.battingTeam===re.away,"font-bold":"ParseOK"===e.play.type&&ae(e.play.value),"bg-red-200":"ParseFail"===e.play.type})}},columns:[{header:"Inning",builder:function(e){return Object(g.jsxs)("span",{className:v()({"bg-red-300":e.battingTeam!==e.precedingState.battingTeam||e.inning!==e.precedingState.inning}),children:[(e.battingTeam!==e.precedingState.battingTeam||e.inning!==e.precedingState.inning)&&"XXXXX","0"===e.battingTeam?"Top":"Bottom"," ",e.inning]})}},{header:"Outs",builder:function(e){return e.precedingState.outs}},{header:"Score",builder:function(e){return Object(g.jsxs)(g.Fragment,{children:[e.precedingState.score.away," -"," ",e.precedingState.score.home]})}},{header:"Bases",builder:function(e){return e.precedingState.bases.slice(1).map((function(e,t){return null!==e?t+1:"x"})).join("")}},{header:"Pitching",builder:function(e){return e.precedingState.pitching.name}},{header:"Batting",builder:function(e){var t=e.precedingState.batting;return t.playerID!==e.batterID?"Expected ".concat(JSON.stringify(t)," to be up, instead it is ").concat(e.batterID):t.name}},{header:"Count",builder:function(e){return e.count}},{header:"Play",builder:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Oe,{play:e.play}),e.comments.map((function(e,t){return Object(g.jsx)("p",{children:e},t)})),e.substitutions.map((function(e,t){var n=e.from,a=e.to;return Object(g.jsxs)("p",{children:[n.playerID===a.playerID&&Object(g.jsxs)(g.Fragment,{children:[n.name," moved from ",S[n.pos]," to"," ",S[a.pos]]}),n.playerID!==a.playerID&&Object(g.jsxs)(g.Fragment,{children:[a.name," replaced ",n.name,",",0!==a.slot&&" batting ".concat(a.slot," and")," playing"," ",S[a.pos]]}),"."]},t)}))]})}}]})},ke=function(e){var t=e.game;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(y,{children:[Object(g.jsx)(k,{children:Object(g.jsxs)("a",{href:"https://www.retrosheet.org/boxesetc/".concat(t.id.slice(3,7),"/B").concat(t.id.slice(7)+t.id.slice(0,7),".htm"),target:t.id,children:[t.info.visteam," (",t.state.score.away,") @ ",t.info.hometeam," ","(",t.state.score.home,") on ",t.info.date,"0"!==t.info.number&&" (".concat(t.info.number,")")]})}),Object(g.jsxs)(w,{children:[Object(g.jsx)(F,{}),Object(g.jsx)(N,{children:Object(g.jsxs)("div",{className:v()("grid","gap-6"),style:{gridTemplateColumns:"100%"},children:[Object(g.jsx)(xe,{info:t.info}),Object(g.jsx)(ve,{game:t}),Object(g.jsx)(ye,{game:t})]})})]})]})})},we=function(e){var t=e.logs;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex flex-col",children:t.games.map((function(e){return Object(g.jsx)("div",{className:"mb-6 mx-4",children:Object(g.jsx)(ke,{game:e},e.id)},e.id)}))})})};function Ne(){var e=r.a.useState(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=r.a.useState(null),c=Object(u.a)(s,2),i=c[0],o=c[1],l=r.a.useState(null),d=Object(u.a)(l,2),j=d[0],h=d[1],f=Object(b.d)().search;return r.a.useEffect((function(){var e=m.parse(f),t=function(t){var n=e[t];return"string"===typeof n?n:null};(function(e){return fe.apply(this,arguments)})({year:t("year")||"2020",team:t("team")||"NYA"}).then((function(e){return a(e)}))}),[a,o,h,f]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(O,{variant:"error",children:[Object(g.jsx)("span",{className:"md:hidden",children:"Welcome to BoxScored"}),Object(g.jsxs)("span",{className:"hidden md:inline",children:["Welcome to BoxScored, a thing"," ",Object(g.jsx)("a",{href:"https://segiddins.me/",target:"_blank",rel:"noreferrer",className:"underline",children:"segiddins@"})," ","built."]})]}),Object(g.jsx)(pe.Provider,{value:{parks:i||new Map,people:j||new Map},children:n&&Object(g.jsx)(we,{logs:n})})]})}var Fe=function(){return Object(g.jsx)(j.a,{children:Object(g.jsx)(Ne,{})})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Fe,{})}),document.getElementById("root")),Be()}},[[59,1,2]]]);
//# sourceMappingURL=main.1824394f.chunk.js.map
